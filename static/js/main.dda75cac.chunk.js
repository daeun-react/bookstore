(this["webpackJsonpdaeun-bookstore"]=this["webpackJsonpdaeun-bookstore"]||[]).push([[0],{25:function(A,e,t){},26:function(A,e,t){},53:function(A,e,t){},54:function(A,e,t){},55:function(A,e,t){},56:function(A,e,t){"use strict";t.r(e);var a=t(19),r=t.n(a),n=t(3),c=t(8),i=t.n(c),s=t(20),l=t(9),u=t(10),o=t(2),d=t(21),j=t(22),b=t(23),f=t.n(b),E={Authorization:"KakaoAK ".concat("3fc8fba102f9a78b8200b728fef6a670")},h=function(){function A(){Object(d.a)(this,A)}return Object(j.a)(A,null,[{key:"fetchBookList",value:function(A){return f.a.get("https://dapi.kakao.com/v3/search/book",{headers:E,params:A})}}]),A}();function x(A){return new Promise((function(e){setTimeout(e,A)}))}var B={query:"",loading:!1,data:null,error:null,page:1,isEnd:!1},g="FETCH_BOOKLIST_PENDING",O="FETCH_BOOKLIST_SUCCESS",p="FETCH_BOOKLIST_FAILURE";function v(A,e){var t=e.type,a=e.loadMore,r=e.query,n=e.data,c=e.isEnd,i=e.error;switch(t){case g:return{query:r,loading:!0,data:a?A.data:null,error:null,page:a?A.page:1,isEnd:!!a&&A.isEnd};case O:return Object(u.a)(Object(u.a)({},A),{},{loading:!1,data:a?[].concat(Object(l.a)(A.data),Object(l.a)(n)):n,error:null,page:A.page+1,isEnd:c});case p:return{query:"",loading:!1,data:null,error:i,page:1,isEnd:!1};default:return A}}var I=function(){var A=Object(o.useReducer)(v,B),e=Object(n.a)(A,2),t=e[0],a=e[1];return[t,function(){var A=Object(s.a)(i.a.mark((function A(e){var r,n,c,s,l,u,o,d=arguments;return i.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(r=d.length>1&&void 0!==d[1]&&d[1],n=t.loading,c=t.isEnd,s=t.page,l=t.data,!n){A.next=4;break}return A.abrupt("return");case 4:if(!r||!c){A.next=6;break}return A.abrupt("return");case 6:if(!r||l&&l.length){A.next=8;break}return A.abrupt("return");case 8:return A.prev=8,a({type:g,query:e,loadMore:r}),A.next=12,x(500);case 12:return A.next=14,h.fetchBookList({query:e,size:10,target:"title",page:r?s:1});case 14:u=A.sent,o=u.data,a({type:O,data:o.documents,loadMore:r,isEnd:o.meta.is_end}),A.next=22;break;case 19:A.prev=19,A.t0=A.catch(8),a({type:p,error:A.t0});case 22:case"end":return A.stop()}}),A,null,[[8,19]])})));return function(e){return A.apply(this,arguments)}}()]},k=t(24),m=t.n(k);var Q=function(A,e){Object(o.useEffect)((function(){var t=m.a.throttle((function(){var t=document.documentElement;t.scrollTop+t.clientHeight>=t.scrollHeight&&e(A,!0)}),500);return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[A,e])},F=t(6),y=t.n(F),M=t(25),V=t.n(M),D=t(0),w=y.a.bind(V.a);var K=function(A){var e=A.fetchBookList,t=Object(o.useState)(""),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(D.jsx)("form",{className:"search-form",onSubmit:function(A){A.preventDefault(),r&&e(r)},children:Object(D.jsxs)("fieldset",{className:"fieldset",children:[Object(D.jsx)("legend",{className:"a11y-hidden",children:"\uac80\uc0c9 \ud3fc"}),Object(D.jsx)("label",{"aria-label":"\uac80\uc0c9\uc5b4",children:Object(D.jsx)("input",{id:"search-term",type:"search",className:"search-term",autoComplete:"off",value:r,onChange:function(A){var e=A.target;c(e.value.trim())}})}),Object(D.jsx)("button",{className:w("icon-search","search-btn"),type:"submit","aria-label":"\uac80\uc0c9"})]})})},J=t(58);t(53);function N(A){for(var e="",t=0,a="".concat(A),r=a.length-1;r>=0;r--)e=a[r]+e,t+=1,r>0&&3===t&&(e=","+e,t=0);return e}function S(A){var e=A.split("T");return Object(n.a)(e,1)[0]}var C="NA";var q=function(A){var e=A.book,t=e.title,a=e.thumbnail,r=e.url,n=e.authors,c=e.publisher,i=e.datetime,s=e.price,l=e.sale_price,u=e.status;return Object(D.jsx)("li",{className:"book",children:Object(D.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:Object(D.jsxs)("article",{children:[Object(D.jsx)("h4",{className:"title",title:t,children:t}),Object(D.jsx)("p",{className:"cover",children:Object(D.jsx)("img",{src:a||"data:image/jpeg;base64,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",alt:a?"\ud45c\uc9c0 \uc378\ub124\uc77c":"\uc378\ub124\uc77c \uc5c6\uc74c"})}),Object(D.jsxs)("dl",{className:"book-detail",children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("dt",{"aria-label":"\uc9c0\uc740\uc774"}),Object(D.jsx)("dd",{children:n[0]||C})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("dt",{"aria-label":"\ucd9c\ud310\uc0ac"}),Object(D.jsx)("dd",{children:c||C})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("dt",{"aria-label":"\ucd9c\ud310 \ub0a0\uc9dc"}),Object(D.jsx)("dd",{children:i?S(i):C})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("dt",{"aria-label":"\uac00\uaca9"}),Object(D.jsx)("dd",{className:"price",children:"\uc815\uc0c1\ud310\ub9e4"===u?N(l>0?l:s):C})]})]})]})})})},Z=(t(54),function(A){return Object(D.jsx)("div",{className:"info",children:A})});var L=function(A){var e=A.bookList,t=e.loading,a=e.error,r=e.data;return t&&!r?Z("\ub85c\ub529 \uc911..."):a?Z("\uc5d0\ub7ec \ubc1c\uc0dd"):r?r.length?Object(D.jsx)("ul",{className:"book-list",children:r.map((function(A){return Object(D.jsx)(q,{book:A},Object(J.a)())}))}):Z("\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):Z("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},R=t(26),G=t.n(R),T=y.a.bind(G.a),X=function(A){return A.visible?Object(D.jsx)("div",{className:T("info","center-text"),children:"\ub85c\ub529 \uc911..."}):null};var H=function(){var A=I(),e=Object(n.a)(A,2),t=e[0],a=e[1],r=t.data,c=t.loading,i=t.query;return Q(i,a),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(K,{fetchBookList:a}),Object(D.jsx)(L,{bookList:t}),Object(D.jsx)(X,{visible:r&&r.length&&c})]})},U=(t(55),document.getElementById("root"));r.a.render(Object(D.jsx)(H,{}),U)}},[[56,1,2]]]);
//# sourceMappingURL=main.dda75cac.chunk.js.map